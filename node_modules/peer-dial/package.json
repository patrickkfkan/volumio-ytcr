{
  "_args": [
    [
      "peer-dial@github:patrickkfkan/peer-dial",
      "/home/patrickkfkan/dev/volumio/ytcr/node_modules/yt-cast-receiver"
    ]
  ],
  "_from": "patrickkfkan/peer-dial",
  "_id": "peer-dial@0.0.9",
  "_inCache": true,
  "_installable": true,
  "_location": "/peer-dial",
  "_phantomChildren": {},
  "_requested": {
    "hosted": {
      "directUrl": "https://raw.githubusercontent.com/patrickkfkan/peer-dial/master/package.json",
      "gitUrl": "git://github.com/patrickkfkan/peer-dial.git",
      "httpsUrl": "git+https://github.com/patrickkfkan/peer-dial.git",
      "shortcut": "github:patrickkfkan/peer-dial",
      "ssh": "git@github.com:patrickkfkan/peer-dial.git",
      "sshUrl": "git+ssh://git@github.com/patrickkfkan/peer-dial.git",
      "type": "github"
    },
    "name": "peer-dial",
    "raw": "peer-dial@github:patrickkfkan/peer-dial",
    "rawSpec": "github:patrickkfkan/peer-dial",
    "scope": null,
    "spec": "github:patrickkfkan/peer-dial",
    "type": "hosted"
  },
  "_requiredBy": [
    "/yt-cast-receiver"
  ],
  "_resolved": "git://github.com/patrickkfkan/peer-dial.git#8848c6687908997a33e6785d19d9814e0acf7d1c",
  "_shasum": "b06701fb935ee04c5b9160e4977c09d4c98cd315",
  "_shrinkwrap": null,
  "_spec": "peer-dial@github:patrickkfkan/peer-dial",
  "_where": "/home/patrickkfkan/dev/volumio/ytcr/node_modules/yt-cast-receiver",
  "author": {
    "email": "louay.bassbouss@fokus.fraunhofer.de",
    "name": "Louay Bassbouss"
  },
  "bugs": {
    "url": "https://github.com/fraunhoferfokus/peer-dial/issues"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "ejs": "2.7.1",
    "gate": "^0.3.0",
    "peer-ssdp": "github:patrickkfkan/peer-ssdp",
    "uuid": "^3.3.3",
    "xml2js": "0.4.21"
  },
  "description": "Nodejs implementation of the Discovery and Launch Protocol DIAL",
  "devDependencies": {
    "express": "4.17.1",
    "open": "6.4.0"
  },
  "gitHead": "8848c6687908997a33e6785d19d9814e0acf7d1c",
  "homepage": "https://github.com/fraunhoferfokus/peer-dial#readme",
  "keywords": [
    "chromecast",
    "dial",
    "discovery",
    "launch",
    "multiscreen",
    "nsd",
    "ssdp",
    "upnp"
  ],
  "main": "index",
  "name": "peer-dial",
  "optionalDependencies": {},
  "readme": "peer-dial \r\n=========\r\n\r\npeer-dial is a simple Node.js module implementing the Discovery and Launch Protocol DIAL as described in the\r\n[Protocol Specification Document](http://www.dial-multiscreen.org/dial-protocol-specification)\r\n\r\nDependencies\r\n============\r\n\r\n  * [Node.js](https://nodejs.org/). tested with version 0.12.4\r\n  * `Node.js` includes also `npm` to install directly using npm CLI as described in setup.\r\n\r\nSetup\r\n=====\r\n\r\n  * use `npm install peer-dial` to install the module.\r\n\r\nRun Examples\r\n============\r\n\r\n  * run DIAL Server Example with `node node_modules/peer-dial/test/dial-server.js` \r\n  * run DIAL Client Example with `node node_modules/peer-dial/test/dial-client.js`\r\n\r\nUsage\r\n=====\r\n\r\nThe `peer-dial` modules contains implementation for DIAL Client and Server.\r\n\r\nFor DIAL Server usage please have a look to the following example ([test/dial-server.js](test/dial-server.js)).  In this example the DIAL Server supports the \"YouTube\" App through DIAL. This DIAL Server should be discoverable from YouTube App on iOS or Android. Just click on the cast button in the YouTube mobile App and select the name of your device. You can extend this example to support your custum DIAL Apps. Additional configuration parameters like `additionalData`, `namespaces`, `extraHeaders`, etc.  which are not used in the YouTube DIAL App are commented in this example. `peer-dial` uses these parameters to generate the UPnP device description and DIAL app description xml as defined in the DIAL Spec.\r\n\r\n```javascript\r\nvar dial = require(\"peer-dial\");\r\nvar http = require('http');\r\nvar express = require('express');\r\nvar opn = require(\"opn\");\r\nvar app = express();\r\nvar server = http.createServer(app);\r\nvar PORT = 3000;\r\nvar MANUFACTURER = \"Fraunhofer FOKUS\";\r\nvar MODEL_NAME = \"DIAL Demo Server\";\r\nvar apps = {\r\n\t\"YouTube\": {\r\n\t\tname: \"YouTube\",\r\n\t\tstate: \"stopped\",\r\n\t\tallowStop: true,\r\n\t\tpid: null,\r\n    /*\r\n    additionalData: {\r\n        \"ex:key1\":\"value1\",\r\n        \"ex:key2\":\"value2\"\r\n    },\r\n    namespaces: {\r\n       \"ex\": \"urn:example:org:2014\"\r\n    }*/\r\n    launch: function (launchData) {\r\n        opn(\"http://www.youtube.com/tv?\"+launchData);\r\n    }\r\n\t}\r\n};\r\nvar dialServer = new dial.Server({\r\n\texpressApp: app,\r\n\tport: PORT,\r\n\tprefix: \"/dial\",\r\n\tmanufacturer: MANUFACTURER,\r\n\tmodelName: MODEL_NAME,\r\n\t/*extraHeaders: {\r\n\t\t\"X-MY_HEADER\": \"My Value\"\r\n\t},*/\r\n\tdelegate: {\r\n\t\tgetApp: function(appName){\r\n\t\t\tvar app = apps[appName];\r\n\t\t\treturn app;\r\n\t\t},\r\n\t\tlaunchApp: function(appName,lauchData,callback){\r\n\t\t\tconsole.log(\"Got request to launch\", appName,\" with launch data: \", lauchData);\r\n\t\t\tvar app = apps[appName];\r\n\t\t\tvar pid = null;\r\n\t\t\tif (app) {\r\n\t\t\t\tapp.pid = \"run\";\r\n\t\t\t\tapp.state = \"starting\";\r\n                app.launch(lauchData);\r\n                app.state = \"running\";\r\n\t\t\t}\r\n\t\t\tcallback(app.pid);\r\n\t\t},\r\n\t\tstopApp: function(appName,pid,callback){\r\n            console.log(\"Got request to stop\", appName,\" with pid: \", pid);\r\n\t\t\tvar app = apps[appName];\r\n\t\t\tif (app && app.pid == pid) {\r\n\t\t\t\tapp.pid = null;\r\n\t\t\t\tapp.state = \"stopped\";\r\n\t\t\t\tcallback(true);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcallback(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\nserver.listen(PORT,function(){\r\n\tdialServer.start();\r\n\t// dialServer.stop();\r\n\tconsole.log(\"DIAL Server is running on PORT \"+PORT);\r\n});\r\n```\r\n\r\nWhen creating the DIAL Server, you can also specify an option to control what Origins are allowed under [CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing). By default, CORS is disabled.\r\nSet the origins to be allowed by providing a `corsAllowedOrigins` attribute. For example,\r\nto allow all origins:\r\n\r\n    var dialServer = new dial.Server({\r\n        ...\r\n        corsAllowedOrigins: true,        // allow all origins\r\n        ...\r\n    });\r\n\r\n`corsAllowedOrigins` can also be set to a string, a regex, or a function. See the `origin` configuration\r\noption of the [cors package](https://www.npmjs.com/package/cors) for details.\r\n\r\nFor DIAL Client usage please have a look to the following example ([test/dial-client.js](test/dial-client.js)). This example contains calls for all interfaces of DIAL Client and DIAL Device, some of them are commented like `dialDevice.stopApp(...)` and `dialClient.stop();`\r\n\r\n```javascript\r\nvar dial = require(\"peer-dial\");\r\nvar dialClient = new dial.Client();\r\ndialClient.on(\"ready\",function(){\r\n    console.log(\"DIAL client is ready\");\r\n}).on(\"found\",function(deviceDescriptionUrl, ssdpHeaders){\r\n    console.log(\"DIAL device found\");\r\n    console.log(\"Request DIAL device description from\",deviceDescriptionUrl);\r\n    dialClient.getDialDevice(deviceDescriptionUrl, function (dialDevice, err) {\r\n        if(dialDevice){\r\n            console.log(\"Got DIAL device description: \",dialDevice);\r\n            console.log(\"Request YouTube DIAL App from\",dialDevice.applicationUrl);\r\n            dialDevice.getAppInfo(\"YouTube\", function (appInfo, err) {\r\n                if(appInfo){\r\n                    console.log(\"Got YouTube App Info from\", dialDevice.applicationUrl+\"/YouTube\");\r\n                    dialDevice.launchApp(\"YouTube\",\"v=YE7VzlLtp-4\", \"text/plain\", function (launchRes, err) {\r\n                        if(typeof launchRes != \"undefined\"){\r\n                            console.log(\"YouTube Launched Successfully\",launchRes);\r\n                            /*dialDevice.stopApp(\"YouTube\",\"run\", function (statusCode,err) {\r\n                                if(err){\r\n                                    console.error(\"Error on stop YouTube App:\", err);\r\n                                }\r\n                                else {\r\n                                    console.log(\"DIAL stop YouTube App status: \",statusCode);\r\n                                }\r\n                            });*/\r\n                        }\r\n                        else if(err){\r\n                            console.log(\"Error on Launch YouTube App\",launchRes);\r\n                        }\r\n                    });\r\n                }\r\n                else if(err){\r\n                    console.error(\"Error on get YouTube App Info or YouTube App is not available on\",deviceDescriptionUrl);\r\n                }\r\n            });\r\n        }\r\n        else if(err){\r\n            console.error(\"Error on get DIAL device description from \",deviceDescriptionUrl, err);\r\n        }\r\n    });\r\n}).on(\"disappear\", function(deviceDescriptionUrl, dialDevice){\r\n    console.log(\"DIAL device \", deviceDescriptionUrl,\" disappeared\");\r\n}).on(\"stop\", function(){\r\n    console.log(\"DIAL client is stopped\");\r\n}).start();\r\n// dialClient.stop();\r\n```\r\n\r\nAPI\r\n===\r\n\r\nAPI description coming soon. Please refer to the examples above that demonstrate the usage of all features supported in `peer-dial`. Not used features are in the comments.\r\n\r\nLicense\r\n=======\r\n\r\nFree for non commercial use released under the GNU Lesser General Public License v3.0\r\n, See LICENSE file.\r\n\r\nContact us for commecial use famecontact@fokus.fraunhofer.de\r\n\r\nCopyright (c) 2015 Fraunhofer FOKUS\r\n",
  "readmeFilename": "Readme.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/fraunhoferfokus/peer-dial.git"
  },
  "version": "0.0.9"
}
